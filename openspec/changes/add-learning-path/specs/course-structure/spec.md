## ADDED Requirements

### Requirement: 简化版课程管理接口
系统 MUST 提供简洁、高层级的课程管理接口，聚焦于“上传”、“修改”、“获取课程内容”和“进度获取”三个核心场景，屏蔽内部复杂的处理细节。

- **上传课程 (Upload)**: 提供一个聚合接口或流程，允许用户一次性定义课程结构并上传核心视频文件。
- **修改课程 (Modify)**: 提供统一的接口用于修改课程结构、更新视频内容或人工修正 AI 生成的数据（字幕/翻译）。
- **获取进度 (Get Progress)**: 提供统一的进度查询接口，返回课程下所有内容的自动化处理状态及详细日志。
- **Resource Recovery**: 当课程或课时被删除时，系统 MUST 支持通过级联策略 (Soft Delete + GC) 回收关联的视频及字幕文件，防止产生孤儿数据。

#### Scenario: 极简上传流程
- **WHEN** 用户调用 `POST /courses/upload` 接口
- **AND** 提交课程基本信息及一组视频文件
- **THEN** 系统自动完成结构创建、文件关联及后台任务触发
- **AND** 返回一个 `job_id` 或 `course_id` 用于后续进度查询

#### Scenario: 统一进度查询
- **WHEN** 用户调用 `GET /courses/{id}/progress`
- **THEN** 系统返回该课程下所有课时的处理状态（转码、翻译、分析）
- **AND** 包含每个步骤的详细日志（开始时间、耗时、结果）

### Requirement: 动静分离的课程内容查询
系统 MUST 将课程内容的查询拆分为“静态内容”和“动态进度”两个维度，以优化加载速度和缓存策略，并支持高效率的数据关联查询。

- **静态内容接口**: 提供 `GET /lessons/{id}/content` 接口，返回视频 URL、全量字幕、语法解析等不常变更的数据。该接口 MUST 支持 ETag 缓存机制。
- **动态进度接口**: 提供 `GET /lessons/{id}/progress` 接口，仅返回当前用户的学习进度（如 completed status, last timestamp）。
- **智能预加载**: 系统 SHOULD 支持返回下一课时的 ID，以便前端提前预加载静态内容。
- **语法全局关联**: 语法解析数据 MUST 包含结构化标签 (Tag/ID)，以支持跨课程的知识点关联查询。

#### Scenario: 获取完整课时内容
- **WHEN** 用户进入学习页面
- **THEN** 前端并发请求 `/content` (可缓存) 和 `/progress` (不可缓存)
- **AND** 系统返回带版本号 (ETag) 的字幕和语法数据
- **AND** 前端组合数据进行渲染
